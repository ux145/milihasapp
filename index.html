<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram Clone</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #fafafa;
            color: #262626;
        }

        /* Login Page */
        .login-page {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #fafafa;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .login-page.hidden {
            display: none;
        }

        .login-container {
            background: white;
            border: 1px solid #dbdbdb;
            border-radius: 1px;
            padding: 40px 40px 30px;
            max-width: 350px;
            width: 100%;
            text-align: center;
        }

        .login-logo {
            font-family: 'Lobster Two', cursive;
            font-size: 52px;
            margin-bottom: 32px;
            color: #262626;
        }

        .login-divider {
            display: flex;
            align-items: center;
            margin: 20px 0;
            color: #8e8e8e;
            font-size: 13px;
            font-weight: 600;
        }

        .login-divider::before,
        .login-divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: #dbdbdb;
        }

        .login-divider::before {
            margin-right: 18px;
        }

        .login-divider::after {
            margin-left: 18px;
        }

        .login-username-display {
            background: #fafafa;
            border: 1px solid #dbdbdb;
            border-radius: 3px;
            padding: 14px 12px;
            margin-bottom: 8px;
            font-size: 14px;
            color: #262626;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .online-indicator {
            width: 8px;
            height: 8px;
            background: #22c55e;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .enter-btn {
            background: #0095f6;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 8px 16px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            margin-top: 12px;
            transition: background 0.2s;
        }

        .enter-btn:hover {
            background: #1877f2;
        }

        .enter-btn:active {
            opacity: 0.7;
        }

        .login-footer {
            margin-top: 20px;
            font-size: 12px;
            color: #8e8e8e;
        }

        .login-links {
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid #dbdbdb;
        }

        .login-links a {
            color: #00376b;
            text-decoration: none;
            font-size: 12px;
            font-weight: 600;
            margin: 0 8px;
        }

        .login-signup {
            margin-top: 24px;
            background: white;
            border: 1px solid #dbdbdb;
            border-radius: 1px;
            padding: 24px 40px;
            font-size: 14px;
        }

        .login-signup a {
            color: #0095f6;
            text-decoration: none;
            font-weight: 600;
        }

        @media (max-width: 450px) {
            .login-container {
                border: none;
                background: transparent;
            }
            
            .login-signup {
                border: none;
            }
        }

        /* Header */
        .header {
            background-color: white;
            border-bottom: 1px solid #dbdbdb;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
        }

        .header-container {
            max-width: 935px;
            margin: 0 auto;
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Lobster Two', cursive;
            font-size: 28px;
            cursor: pointer;
        }

        .search-box {
            background-color: #efefef;
            border: 1px solid #dbdbdb;
            border-radius: 8px;
            padding: 8px 16px;
            width: 268px;
            text-align: center;
        }

        .search-box input {
            border: none;
            background: transparent;
            outline: none;
            width: 100%;
            text-align: center;
        }

        .nav-icons {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .nav-icons i {
            font-size: 24px;
            cursor: pointer;
            transition: color 0.2s;
        }

        .nav-icons i:hover {
            color: #8e8e8e;
        }

        .icon-badge {
            position: relative;
            display: inline-block;
        }

        .badge {
            position: absolute;
            top: -8px;
            right: -10px;
            background-color: #ed4956;
            color: white;
            border-radius: 10px;
            padding: 2px 6px;
            font-size: 11px;
            font-weight: 600;
            min-width: 18px;
            text-align: center;
            border: 2px solid white;
        }

        .profile-pic-small {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: white;
            border-top: 1px solid #dbdbdb;
            display: none;
            justify-content: space-around;
            align-items: center;
            padding: 8px 0;
            z-index: 1000;
        }

        .bottom-nav i {
            font-size: 28px;
            cursor: pointer;
            transition: color 0.2s;
        }

        .bottom-nav i:hover {
            color: #8e8e8e;
        }

        .bottom-nav .icon-badge {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .bottom-nav .badge {
            top: -5px;
            right: -8px;
        }

        .bottom-nav .profile-pic-small {
            width: 28px;
            height: 28px;
        }

        /* Main Content */
        .main-container {
            max-width: 935px;
            margin: 84px auto 0;
            display: flex;
            gap: 28px;
            padding: 0 20px;
        }

        /* Stories */
        .stories-container {
            background-color: white;
            border: 1px solid #dbdbdb;
            border-radius: 8px;
            padding: 16px 0;
            margin-bottom: 24px;
            overflow-x: auto;
            overflow-y: hidden;
        }

        .stories {
            display: flex;
            gap: 16px;
            padding: 0 16px;
        }

        .story {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
        }

        .story-pic {
            width: 66px;
            height: 66px;
            border-radius: 50%;
            border: 3px solid #e1306c;
            padding: 2px;
            background: white;
        }

        .story-pic img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
        }

        .story-username {
            font-size: 12px;
            margin-top: 6px;
            max-width: 74px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        /* Feed */
        .feed {
            flex: 1;
            max-width: 614px;
        }

        .post {
            background-color: white;
            border: 1px solid #dbdbdb;
            border-radius: 8px;
            margin-bottom: 24px;
        }

        .post-header {
            display: flex;
            align-items: center;
            padding: 14px 16px;
            justify-content: space-between;
        }

        .post-user {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .post-profile-pic {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            object-fit: cover;
        }

        .post-username {
            font-weight: 600;
            font-size: 14px;
        }

        .post-options {
            cursor: pointer;
        }

        .post-image {
            width: 100%;
            max-height: 600px;
            object-fit: cover;
        }

        .post-actions {
            padding: 12px 16px;
            display: flex;
            justify-content: space-between;
        }

        .post-actions-left {
            display: flex;
            gap: 16px;
        }

        .post-actions i {
            font-size: 24px;
            cursor: pointer;
            transition: color 0.2s;
        }

        .post-actions i:hover {
            color: #8e8e8e;
        }

        .liked {
            color: #ed4956 !important;
        }

        .saved {
            color: #262626 !important;
        }

        .post-likes {
            padding: 0 16px;
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .post-caption {
            padding: 0 16px;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .post-caption .username {
            font-weight: 600;
            margin-right: 6px;
        }

        .post-comments {
            padding: 0 16px;
            font-size: 14px;
            color: #8e8e8e;
            margin-bottom: 8px;
            cursor: pointer;
        }

        .post-time {
            padding: 0 16px;
            font-size: 10px;
            color: #8e8e8e;
            text-transform: uppercase;
            margin-bottom: 12px;
        }

        .add-comment {
            border-top: 1px solid #efefef;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .add-comment input {
            flex: 1;
            border: none;
            outline: none;
            font-size: 14px;
        }

        .add-comment button {
            background: none;
            border: none;
            color: #0095f6;
            font-weight: 600;
            cursor: pointer;
            font-size: 14px;
        }

        .add-comment button:disabled {
            color: #b3d4ff;
            cursor: default;
        }

        /* Sidebar */
        .sidebar {
            flex: 0 0 319px;
            margin-top: 12px;
        }

        .sidebar-profile {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px;
        }

        .sidebar-profile-pic {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            object-fit: cover;
        }

        .sidebar-profile-info {
            flex: 1;
        }

        .sidebar-username {
            font-weight: 600;
            font-size: 14px;
        }

        .sidebar-name {
            color: #8e8e8e;
            font-size: 14px;
        }

        .suggestions-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .suggestions-header h4 {
            color: #8e8e8e;
            font-weight: 600;
            font-size: 14px;
        }

        .suggestions-header a {
            color: #262626;
            text-decoration: none;
            font-weight: 600;
            font-size: 12px;
        }

        .suggestion {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .suggestion-pic {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            object-fit: cover;
        }

        .suggestion-info {
            flex: 1;
        }

        .suggestion-username {
            font-weight: 600;
            font-size: 14px;
        }

        .suggestion-reason {
            color: #8e8e8e;
            font-size: 12px;
        }

        .suggestion-follow {
            color: #0095f6;
            font-weight: 600;
            font-size: 12px;
            cursor: pointer;
            background: none;
            border: none;
        }

        .footer {
            color: #c7c7c7;
            font-size: 11px;
            margin-top: 32px;
        }

        .footer a {
            color: #c7c7c7;
            text-decoration: none;
            margin-right: 8px;
        }

        /* Create Post Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.65);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: white;
            border-radius: 12px;
            width: 90%;
            max-width: 700px;
            max-height: 90vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .modal-header {
            padding: 16px;
            border-bottom: 1px solid #dbdbdb;
            text-align: center;
            position: relative;
        }

        .modal-header h3 {
            font-size: 16px;
            font-weight: 600;
        }

        .modal-close {
            position: absolute;
            right: 16px;
            top: 16px;
            font-size: 24px;
            cursor: pointer;
        }

        .modal-body {
            padding: 32px;
            text-align: center;
            flex: 1;
            overflow-y: auto;
        }

        .upload-area {
            border: 2px dashed #dbdbdb;
            border-radius: 8px;
            padding: 48px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .upload-area:hover {
            background-color: #fafafa;
        }

        .upload-area i {
            font-size: 48px;
            color: #8e8e8e;
            margin-bottom: 16px;
        }

        .upload-area p {
            font-size: 22px;
            margin-bottom: 8px;
        }

        .upload-area button {
            background-color: #0095f6;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 8px 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 16px;
        }

        .preview-container {
            display: none;
        }

        .preview-container.active {
            display: block;
        }

        .preview-image {
            max-width: 100%;
            max-height: 400px;
            border-radius: 8px;
            margin-bottom: 16px;
        }

        .caption-input {
            width: 100%;
            min-height: 100px;
            border: 1px solid #dbdbdb;
            border-radius: 8px;
            padding: 12px;
            font-family: inherit;
            font-size: 14px;
            resize: vertical;
        }

        .post-button {
            background-color: #0095f6;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 24px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 16px;
            width: 100%;
        }

        .post-button:hover {
            background-color: #1877f2;
        }

        /* Profile Page */
        .profile-page {
            display: none;
            max-width: 935px;
            margin: 84px auto 0;
            padding: 30px 20px;
            background-color: white;
            border-radius: 8px;
        }

        .profile-page.active {
            display: block;
        }

        .profile-header-section {
            display: flex;
            gap: 80px;
            padding: 40px;
            margin-bottom: 44px;
        }

        .profile-pic-section {
            position: relative;
        }

        .profile-pic-large {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            cursor: pointer;
            border: 2px solid #dbdbdb;
        }

        .change-photo-btn {
            margin-top: 16px;
            text-align: center;
        }

        .change-photo-btn button {
            background: none;
            border: none;
            color: #0095f6;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            margin: 0 8px;
        }

        .change-photo-btn button:hover {
            color: #00376b;
        }

        .profile-info-section {
            flex: 1;
        }

        .profile-username-row {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .profile-username-large {
            font-size: 28px;
            font-weight: 300;
        }

        .edit-profile-btn {
            background-color: transparent;
            border: 1px solid #dbdbdb;
            border-radius: 8px;
            padding: 7px 16px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
        }

        .edit-profile-btn:hover {
            background-color: #fafafa;
        }

        .profile-stats {
            display: flex;
            gap: 40px;
            margin-bottom: 20px;
        }

        .profile-stat {
            font-size: 16px;
        }

        .profile-stat span {
            font-weight: 600;
        }

        .profile-bio {
            font-size: 16px;
        }

        .profile-fullname {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .profile-tabs {
            border-top: 1px solid #dbdbdb;
            display: flex;
            justify-content: center;
            gap: 60px;
            padding-top: 16px;
        }

        .profile-tab {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            font-weight: 600;
            letter-spacing: 1px;
            cursor: pointer;
            padding: 12px 0;
            border-top: 1px solid transparent;
            margin-top: -17px;
        }

        .profile-tab.active {
            border-top-color: #262626;
        }

        .profile-tab i {
            font-size: 12px;
        }

        .profile-posts-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 28px;
            margin-top: 28px;
        }

        .profile-post-item {
            aspect-ratio: 1;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .profile-post-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-post-item:hover::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.3);
        }

        /* Edit Profile Modal */
        .edit-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.65);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .edit-modal.active {
            display: flex;
        }

        .edit-modal-content {
            background-color: white;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            overflow: hidden;
        }

        .edit-modal-header {
            padding: 16px;
            border-bottom: 1px solid #dbdbdb;
            text-align: center;
            position: relative;
        }

        .edit-modal-header h3 {
            font-size: 16px;
            font-weight: 600;
        }

        .edit-modal-close {
            position: absolute;
            right: 16px;
            top: 16px;
            font-size: 24px;
            cursor: pointer;
        }

        .edit-modal-body {
            padding: 24px;
        }

        .edit-form-group {
            margin-bottom: 20px;
        }

        .edit-form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .edit-form-group input {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #dbdbdb;
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
        }

        .edit-form-group input:focus {
            outline: none;
            border-color: #8e8e8e;
        }

        .save-changes-btn {
            background-color: #0095f6;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            font-size: 14px;
        }

        .save-changes-btn:hover {
            background-color: #1877f2;
        }

        /* Reels Page */
        .reels-page {
            display: none;
            max-width: 500px;
            margin: 84px auto 60px;
            background-color: #000;
            min-height: calc(100vh - 144px);
            position: relative;
        }

        .reels-page.active {
            display: block;
        }

        .reels-back-btn {
            position: fixed;
            top: 94px;
            left: 50%;
            transform: translateX(-250px);
            margin-left: -40px;
            background: rgba(0, 0, 0, 0.6);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .reels-back-btn:hover {
            background: rgba(0, 0, 0, 0.8);
        }

        .reel-item {
            position: relative;
            width: 100%;
            height: calc(100vh - 144px);
            margin-bottom: 8px;
            background-color: #1a1a1a;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .reel-video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .reel-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 20px;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            color: white;
        }

        .reel-user {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .reel-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: 2px solid white;
        }

        .reel-username {
            font-weight: 600;
            font-size: 14px;
        }

        .reel-follow-btn {
            background: none;
            border: 1px solid white;
            color: white;
            padding: 4px 12px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 13px;
            cursor: pointer;
            margin-left: auto;
        }

        .reel-caption {
            font-size: 14px;
            margin-bottom: 8px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .reel-music {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
        }

        .reel-music i {
            font-size: 12px;
        }

        .reel-actions {
            position: absolute;
            right: 12px;
            bottom: 100px;
            display: flex;
            flex-direction: column;
            gap: 24px;
            align-items: center;
        }

        .reel-action {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            cursor: pointer;
        }

        .reel-action i {
            font-size: 28px;
            margin-bottom: 4px;
        }

        .reel-action span {
            font-size: 12px;
        }

        .reel-action.liked i {
            color: #ed4956;
        }

        /* Chat Page */
        .chat-page {
            display: none;
            max-width: 935px;
            margin: 84px auto 60px;
            background-color: white;
            border: 1px solid #dbdbdb;
            border-radius: 8px;
            height: calc(100vh - 144px);
        }

        .chat-page.active {
            display: flex;
        }

        .chat-sidebar {
            width: 350px;
            border-right: 1px solid #dbdbdb;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            padding: 20px;
            border-bottom: 1px solid #dbdbdb;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
        }

        .chat-back-btn {
            position: absolute;
            left: 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 24px;
            color: #262626;
        }

        .chat-header h2 {
            font-size: 24px;
            font-weight: 600;
            margin: 0 auto;
        }

        .new-message-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 24px;
        }

        .chat-list {
            flex: 1;
            overflow-y: auto;
        }

        .chat-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 20px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .chat-item:hover {
            background-color: #fafafa;
        }

        .chat-item.active {
            background-color: #efefef;
        }

        .chat-item-avatar {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            object-fit: cover;
        }

        .chat-item-info {
            flex: 1;
            min-width: 0;
        }

        .chat-item-top {
            display: flex;
            justify-content: space-between;
            margin-bottom: 4px;
        }

        .chat-item-username {
            font-weight: 600;
            font-size: 14px;
        }

        .chat-item-time {
            font-size: 12px;
            color: #8e8e8e;
        }

        .chat-item-message {
            font-size: 14px;
            color: #8e8e8e;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .chat-item-message.unread {
            color: #262626;
            font-weight: 500;
        }

        .chat-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .chat-content-header {
            padding: 16px 20px;
            border-bottom: 1px solid #dbdbdb;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .chat-content-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }

        .chat-content-username {
            font-weight: 600;
            font-size: 16px;
        }

        .back-to-chats {
            display: block;
            cursor: pointer;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .message {
            max-width: 60%;
            padding: 12px 16px;
            border-radius: 24px;
            font-size: 14px;
            word-wrap: break-word;
        }

        .message.sent {
            background-color: #efefef;
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }

        .message.received {
            background-color: #efefef;
            align-self: flex-start;
            border-bottom-left-radius: 4px;
            border: 1px solid #dbdbdb;
        }

        .chat-input-container {
            padding: 20px;
            border-top: 1px solid #dbdbdb;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .chat-input {
            flex: 1;
            border: 1px solid #dbdbdb;
            border-radius: 24px;
            padding: 12px 16px;
            font-size: 14px;
            outline: none;
        }

        .send-btn {
            background: none;
            border: none;
            color: #0095f6;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
        }

        .send-btn:disabled {
            color: #b3d4ff;
            cursor: default;
        }

        .chat-empty {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #8e8e8e;
        }

        .chat-empty i {
            font-size: 96px;
            margin-bottom: 24px;
        }

        .chat-empty h3 {
            font-size: 22px;
            margin-bottom: 8px;
            color: #262626;
        }

        .chat-empty p {
            font-size: 14px;
        }

        /* Live Video Page */
        .live-video-page {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #000;
            z-index: 2000;
        }

        .live-video-page.active {
            display: flex;
            flex-direction: column;
        }

        .live-video-header {
            padding: 16px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: linear-gradient(180deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%);
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            z-index: 10;
        }

        .live-back-btn {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
        }

        .upload-video-btn {
            background: rgba(255, 255, 255, 0.3);
            border: none;
            color: white;
            font-size: 18px;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            backdrop-filter: blur(10px);
        }

        .upload-video-btn:hover {
            background: rgba(255, 255, 255, 0.4);
        }

        .live-badge {
            background: linear-gradient(90deg, #f00 0%, #c00 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 12px;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .live-badge::before {
            content: '';
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .live-video-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            background: #000;
        }

        .live-video-placeholder {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .video-placeholder-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            pointer-events: none;
        }

        .video-placeholder-text.hidden {
            display: none;
        }

        .live-info-overlay {
            position: absolute;
            bottom: 20px;
            left: 20px;
            right: 20px;
            color: white;
        }

        .live-host-info {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .live-host-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid white;
        }

        .live-host-name {
            font-weight: 600;
            font-size: 16px;
        }

        .live-viewer-count {
            background: rgba(0,0,0,0.6);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 13px;
            display: inline-block;
            cursor: pointer;
            transition: background 0.2s;
        }

        .live-viewer-count:hover {
            background: rgba(0,0,0,0.8);
        }

        .message-link {
            color: #0095f6;
            text-decoration: none;
            cursor: pointer;
        }

        .message-link:hover {
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .sidebar {
                display: none;
            }
            
            .feed {
                max-width: 100%;
            }
        }

        @media (max-width: 768px) {
            .search-box {
                display: none;
            }

            .nav-icons {
                display: none;
            }

            .bottom-nav {
                display: flex;
            }

            .main-container {
                margin-top: 64px;
                margin-bottom: 60px;
                padding: 0;
            }

            .feed {
                max-width: 100%;
            }

            .stories-container,
            .post {
                border-radius: 0;
                border-left: none;
                border-right: none;
            }

            .profile-page {
                margin-top: 54px;
                margin-bottom: 60px;
                padding: 0;
                border-radius: 0;
                border-left: none;
                border-right: none;
            }

            .profile-header-section {
                flex-direction: row;
                gap: 28px;
                padding: 16px;
                align-items: flex-start;
            }

            .profile-pic-large {
                width: 77px;
                height: 77px;
            }

            .change-photo-btn {
                display: none;
            }

            .profile-username-row {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }

            .profile-username-large {
                font-size: 20px;
            }

            .profile-stats {
                justify-content: space-around;
                width: 100%;
                border-top: 1px solid #dbdbdb;
                border-bottom: 1px solid #dbdbdb;
                padding: 12px 0;
                margin: 12px 0;
            }

            .profile-stat {
                display: flex;
                flex-direction: column;
                align-items: center;
                text-align: center;
            }

            .profile-bio {
                padding: 0 16px;
                font-size: 14px;
            }

            .profile-posts-grid {
                gap: 2px;
            }

            .profile-tabs {
                gap: 0;
            }

            .profile-tab {
                flex: 1;
                justify-content: center;
            }

            .reels-page {
                margin-top: 54px;
                margin-bottom: 54px;
                max-width: 100%;
            }

            .reels-back-btn {
                top: 64px;
                left: 20px;
                transform: none;
                margin-left: 0;
            }

            .reel-item {
                height: calc(100vh - 108px);
            }

            .chat-page {
                margin-top: 54px;
                margin-bottom: 54px;
                border-radius: 0;
                border-left: none;
                border-right: none;
                height: calc(100vh - 108px);
            }

            .chat-sidebar {
                width: 100%;
                border-right: none;
            }

            .chat-content {
                display: none;
                position: fixed;
                top: 54px;
                left: 0;
                right: 0;
                bottom: 54px;
                background-color: white;
                z-index: 1001;
            }

            .chat-content.mobile-active {
                display: flex;
            }

            .chat-content-header {
                position: relative;
            }
        }

        @media (max-width: 480px) {
            .header-container {
                padding: 8px 16px;
            }

            .logo {
                font-size: 24px;
            }

            .stories-container {
                padding: 12px 0;
            }

            .story-pic {
                width: 56px;
                height: 56px;
            }

            .story-username {
                font-size: 11px;
            }

            .post-caption,
            .post-comments {
                font-size: 13px;
            }

            .profile-header-section {
                gap: 16px;
                padding: 12px;
            }

            .profile-pic-large {
                width: 70px;
                height: 70px;
            }

            .profile-username-large {
                font-size: 18px;
            }

            .edit-profile-btn {
                width: 100%;
                padding: 6px 12px;
                font-size: 13px;
            }

            .profile-stat {
                font-size: 14px;
            }

            .reel-actions {
                bottom: 80px;
                right: 8px;
            }

            .reel-action i {
                font-size: 24px;
            }

            .reel-overlay {
                padding: 16px;
            }

            .chat-header h2 {
                font-size: 20px;
            }

            .chat-item {
                padding: 12px 16px;
            }

            .chat-item-avatar {
                width: 48px;
                height: 48px;
            }

            .modal-content,
            .edit-modal-content {
                width: 95%;
                max-width: none;
            }
        }

        @media (min-width: 769px) and (max-width: 1024px) {
            .main-container {
                max-width: 735px;
            }

            .profile-page {
                max-width: 735px;
            }

            .profile-header-section {
                gap: 50px;
            }

            .chat-page {
                max-width: 735px;
            }
        }

        @media (min-width: 1025px) {
            .bottom-nav {
                display: none;
            }

            .profile-page {
                margin-bottom: 20px;
            }

            .reels-page {
                margin-bottom: 20px;
            }

            .chat-page {
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div class="login-page" id="loginPage">
        <div style="max-width: 350px; width: 100%;">
            <div class="login-container">
                <div class="login-logo">Instagram</div>
                <div class="login-divider">Active User</div>
                <div class="login-username-display">
                    <span class="online-indicator"></span>
                    <span>You Online</span>
                </div>
                <button class="enter-btn" id="enterBtn">Enter yourself</button>
                <div class="login-links">
                    <a href="#">About</a>
                    <a href="#">Help</a>
                    <a href="#">API</a>
                    <a href="#">Privacy</a>
                    <a href="#">Terms</a>
                </div>
            </div>
            <div class="login-signup">
                <span style="color: #262626;">Need help? </span>
                <a href="#">Contact Support</a>
            </div>
        </div>
    </div>

    <!-- Header -->
    <div class="header">
        <div class="header-container">
            <div class="logo">Instagram</div>
            <div class="search-box">
                <input type="text" placeholder="Search">
            </div>
            <div class="nav-icons">
                <i class="fa-regular fa-circle-play" id="reelsIconDesktop"></i>
                <i class="fa-regular fa-heart"></i>
                <div class="icon-badge">
                    <i class="fa-regular fa-message" id="messageIconDesktop"></i>
                    <span class="badge" id="messageCount">7</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation (Mobile) -->
    <div class="bottom-nav">
        <i class="fa-solid fa-house"></i>
        <i class="fa-solid fa-magnifying-glass"></i>
        <i class="fa-regular fa-square-plus" id="createPostBtnMobile"></i>
        <i class="fa-regular fa-circle-play" id="reelsIconMobile"></i>
        <div class="icon-badge">
            <i class="fa-regular fa-message" id="messageIconMobile"></i>
            <span class="badge" id="messageCountMobile">7</span>
        </div>
        <img src="https://i.pravatar.cc/150?img=12" alt="Profile" class="profile-pic-small">
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Feed -->
        <div class="feed">
            <!-- Stories -->
            <div class="stories-container">
                <div class="stories" id="storiesContainer">
                    <!-- Stories will be generated here -->
                </div>
            </div>

            <!-- Posts -->
            <div id="postsContainer">
                <!-- Posts will be generated here -->
            </div>
        </div>

        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-profile">
                <img src="https://i.pravatar.cc/150?img=12" alt="Profile" class="sidebar-profile-pic">
                <div class="sidebar-profile-info">
                    <div class="sidebar-username">your_username</div>
                    <div class="sidebar-name">Your Name</div>
                </div>
            </div>

            <div class="suggestions-header">
                <h4>Suggestions For You</h4>
                <a href="#">See All</a>
            </div>

            <div id="suggestionsContainer">
                <!-- Suggestions will be generated here -->
            </div>

            <div class="footer">
                <a href="#">About</a>
                <a href="#">Help</a>
                <a href="#">Press</a>
                <a href="#">API</a>
                <a href="#">Jobs</a>
                <a href="#">Privacy</a>
                <a href="#">Terms</a>
                <p>Â© 2026 INSTAGRAM CLONE</p>
            </div>
        </div>
    </div>

    <!-- Profile Page -->
    <div class="profile-page" id="profilePage">
        <div class="profile-header-section">
            <div class="profile-pic-section">
                <img src="https://i.pravatar.cc/150?img=12" alt="Profile" class="profile-pic-large" id="profilePicLarge">
                <div class="change-photo-btn">
                    <button id="uploadProfilePicBtn">Upload Photo</button>
                    <button id="removeProfilePicBtn">Remove</button>
                    <input type="file" id="profilePicInput" accept="image/*" style="display: none;">
                </div>
            </div>
            <div class="profile-info-section">
                <div class="profile-username-row">
                    <h1 class="profile-username-large" id="profileUsername">your_username</h1>
                    <button class="edit-profile-btn" id="editProfileBtn">Edit profile</button>
                </div>
                <div class="profile-stats">
                    <div class="profile-stat"><span id="postsCount">0</span> posts</div>
                    <div class="profile-stat"><span>342</span> followers</div>
                    <div class="profile-stat"><span>184</span> following</div>
                </div>
                <div class="profile-bio">
                    <div class="profile-fullname" id="profileFullname">Your Name</div>
                    <div>Welcome to my Instagram profile! ðŸ“¸</div>
                </div>
            </div>
        </div>
        
        <div class="profile-tabs">
            <div class="profile-tab active">
                <i class="fa-solid fa-table-cells"></i>
                POSTS
            </div>
            <div class="profile-tab">
                <i class="fa-regular fa-bookmark"></i>
                SAVED
            </div>
            <div class="profile-tab">
                <i class="fa-regular fa-address-card"></i>
                TAGGED
            </div>
        </div>
        
        <div class="profile-posts-grid" id="profilePostsGrid">
            <!-- User's posts will appear here -->
        </div>
    </div>

    <!-- Reels Page -->
    <div class="reels-page" id="reelsPage">
        <button class="reels-back-btn" id="reelsBackBtn">
            <i class="fa-solid fa-arrow-left"></i>
        </button>
        <!-- Reels will be generated here -->
    </div>

    <!-- Chat Page -->
    <div class="chat-page" id="chatPage">
        <div class="chat-sidebar">
            <div class="chat-header">
                <button class="chat-back-btn" id="chatBackBtn">
                    <i class="fa-solid fa-arrow-left"></i>
                </button>
                <h2>Messages</h2>
                <button class="new-message-btn">
                    <i class="fa-regular fa-pen-to-square"></i>
                </button>
            </div>
            <div class="chat-list" id="chatList">
                <!-- Chat items will be generated here -->
            </div>
        </div>
        <div class="chat-content" id="chatContent">
            <div class="chat-empty">
                <i class="fa-regular fa-paper-plane"></i>
                <h3>Your Messages</h3>
                <p>Send private messages to a friend or group.</p>
            </div>
        </div>
    </div>

    <!-- Live Video Page -->
    <div class="live-video-page" id="liveVideoPage">
        <div class="live-video-header">
            <button class="live-back-btn" id="liveBackBtn">
                <i class="fa-solid fa-arrow-left"></i>
            </button>
            <div class="live-badge">
                LIVE
            </div>
            <button class="upload-video-btn" id="uploadVideoBtn" title="Upload Video">
                <i class="fa-solid fa-upload"></i>
            </button>
            <input type="file" id="liveVideoInput" accept="video/*" style="display: none;">
        </div>
        <div class="live-video-container">
            <video id="liveVideoElement" class="live-video-placeholder" controls autoplay loop>
                <source id="liveVideoSource" src="" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="video-placeholder-text" id="videoPlaceholder">
                <i class="fa-solid fa-video" style="font-size: 48px; margin-bottom: 16px; color: #8e8e8e;"></i>
                <p style="font-size: 16px; color: #8e8e8e;">Click the upload button to add a video</p>
            </div>
            <div class="live-info-overlay">
                <div class="live-host-info">
                    <img src="https://ui-avatars.com/api/?name=Yourself&background=0D8ABC&color=fff&size=150" alt="Host" class="live-host-avatar">
                    <div>
                        <div class="live-host-name">yourself</div>
                        <div class="live-viewer-count" id="viewerCount" title="Click to edit">
                            <i class="fa-solid fa-eye"></i> <span id="viewerNumber">234</span> watching
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div class="edit-modal" id="editProfileModal">
        <div class="edit-modal-content">
            <div class="edit-modal-header">
                <h3>Edit Profile</h3>
                <span class="edit-modal-close" id="closeEditModal">&times;</span>
            </div>
            <div class="edit-modal-body">
                <div class="edit-form-group">
                    <label for="editName">Name</label>
                    <input type="text" id="editName" placeholder="Your Name">
                </div>
                <div class="edit-form-group">
                    <label for="editUsername">Username</label>
                    <input type="text" id="editUsername" placeholder="your_username">
                </div>
                <div class="edit-form-group">
                    <label for="editBio">Bio</label>
                    <input type="text" id="editBio" placeholder="Tell us about yourself...">
                </div>
                <button class="save-changes-btn" id="saveChangesBtn">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Create Post Modal -->
    <div class="modal" id="createPostModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create new post</h3>
                <span class="modal-close" id="closeModal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="upload-area" id="uploadArea">
                    <i class="fa-regular fa-images"></i>
                    <p>Drag photos here</p>
                    <button onclick="document.getElementById('fileInput').click()">Select from computer</button>
                    <input type="file" id="fileInput" accept="image/*" style="display: none;">
                </div>
                <div class="preview-container" id="previewContainer">
                    <img id="previewImage" class="preview-image" alt="Preview">
                    <textarea class="caption-input" id="captionInput" placeholder="Write a caption..."></textarea>
                    <button class="post-button" id="sharePostBtn">Share</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // User data
        let userData = {
            username: 'your_username',
            fullname: 'Your Name',
            bio: 'Welcome to my Instagram profile! ðŸ“¸',
            profilePic: 'https://i.pravatar.cc/150?img=12',
            userPosts: []
        };

        // Sample data
        const stories = [
            { username: 'user_1', avatar: 'https://i.pravatar.cc/150?img=1' },
            { username: 'user_2', avatar: 'https://i.pravatar.cc/150?img=2' },
            { username: 'user_3', avatar: 'https://i.pravatar.cc/150?img=3' },
            { username: 'user_4', avatar: 'https://i.pravatar.cc/150?img=4' },
            { username: 'user_5', avatar: 'https://i.pravatar.cc/150?img=5' },
            { username: 'user_6', avatar: 'https://i.pravatar.cc/150?img=6' },
            { username: 'user_7', avatar: 'https://i.pravatar.cc/150?img=7' },
            { username: 'user_8', avatar: 'https://i.pravatar.cc/150?img=8' },
        ];

        const posts = [
            {
                username: 'nature_lover',
                avatar: 'https://i.pravatar.cc/150?img=15',
                image: 'https://picsum.photos/600/600?random=1',
                likes: 1234,
                caption: 'Beautiful sunset at the beach ðŸŒ…',
                comments: 45,
                time: '2 hours ago'
            },
            {
                username: 'foodie_adventures',
                avatar: 'https://i.pravatar.cc/150?img=16',
                image: 'https://picsum.photos/600/600?random=2',
                likes: 856,
                caption: 'Best pasta in town! ðŸ',
                comments: 23,
                time: '5 hours ago'
            },
            {
                username: 'travel_guru',
                avatar: 'https://i.pravatar.cc/150?img=17',
                image: 'https://picsum.photos/600/600?random=3',
                likes: 2341,
                caption: 'Exploring the mountains â›°ï¸',
                comments: 67,
                time: '8 hours ago'
            },
            {
                username: 'fitness_pro',
                avatar: 'https://i.pravatar.cc/150?img=18',
                image: 'https://picsum.photos/600/600?random=4',
                likes: 945,
                caption: 'Morning workout routine ðŸ’ª',
                comments: 34,
                time: '12 hours ago'
            }
        ];

        const suggestions = [
            { username: 'alex_photography', avatar: 'https://i.pravatar.cc/150?img=20', reason: 'Followed by user_1 + 2 more' },
            { username: 'digital_artist', avatar: 'https://i.pravatar.cc/150?img=21', reason: 'Followed by user_2 + 3 more' },
            { username: 'music_vibes', avatar: 'https://i.pravatar.cc/150?img=22', reason: 'Followed by user_3' },
            { username: 'book_worm', avatar: 'https://i.pravatar.cc/150?img=23', reason: 'Followed by user_4 + 5 more' },
            { username: 'tech_guru', avatar: 'https://i.pravatar.cc/150?img=24', reason: 'Popular in your area' },
        ];

        const reels = [
            {
                username: 'creator_one',
                avatar: 'https://i.pravatar.cc/150?img=25',
                image: 'https://picsum.photos/400/700?random=10',
                caption: 'Amazing sunset views! ðŸŒ… #nature #sunset',
                music: 'Original Audio',
                likes: '12.5K',
                comments: '234'
            },
            {
                username: 'travel_vlog',
                avatar: 'https://i.pravatar.cc/150?img=26',
                image: 'https://picsum.photos/400/700?random=11',
                caption: 'Exploring hidden gems ðŸ—ºï¸ #travel #adventure',
                music: 'Upbeat Travel Music',
                likes: '8.3K',
                comments: '156'
            },
            {
                username: 'food_heaven',
                avatar: 'https://i.pravatar.cc/150?img=27',
                image: 'https://picsum.photos/400/700?random=12',
                caption: 'Best pasta recipe ever! ðŸ #cooking #foodie',
                music: 'Cooking Vibes',
                likes: '15.7K',
                comments: '432'
            },
            {
                username: 'fitness_life',
                avatar: 'https://i.pravatar.cc/150?img=28',
                image: 'https://picsum.photos/400/700?random=13',
                caption: 'Morning workout routine ðŸ’ª #fitness #health',
                music: 'Workout Beats',
                likes: '9.1K',
                comments: '187'
            }
        ];

        const chats = [
            {
                username: 'yourself',
                avatar: 'https://ui-avatars.com/api/?name=Yourself&background=0D8ABC&color=fff&size=150',
                lastMessage: 'Link has been sent',
                time: '2h',
                unread: true,
                messages: [
                    { text: 'Link has been sent', sent: false },
                    { text: 'Link has been sent', sent: false },
                    { text: 'Link has been sent', sent: false },
                    { text: 'Link has been sent', sent: false }
                ]
            },
            {
                username: 'youandi',
                avatar: 'https://ui-avatars.com/api/?name=Youandi&background=E91E63&color=fff&size=150',
                lastMessage: 'Let\'s catch up soon!',
                time: '5h',
                unread: false,
                messages: [
                    { text: 'It\'s been a while!', sent: false },
                    { text: 'Yes! We should meet up.', sent: true },
                    { text: 'Let\'s catch up soon!', sent: false }
                ]
            },
            {
                username: 'you',
                avatar: 'https://ui-avatars.com/api/?name=You&background=9C27B0&color=fff&size=150',
                lastMessage: 'Sounds good!',
                time: '1d',
                unread: false,
                messages: [
                    { text: 'What are you up to?', sent: false },
                    { text: 'Just working on some projects.', sent: true },
                    { text: 'Sounds good!', sent: false }
                ]
            }
        ];

        let activeChat = null;
        let chatTimeouts = {};

        // Notification sound function
        function playNotificationSound() {
            // Create audio context for notification sound
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = 800;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.5);
        }

        // Initialize app
        function init() {
            renderStories();
            renderPosts();
            renderSuggestions();
            renderReels();
            renderChats();
            setupEventListeners();
        }

        // Render reels
        function renderReels() {
            const container = document.getElementById('reelsPage');
            container.innerHTML = reels.map((reel, index) => `
                <div class="reel-item">
                    <img src="${reel.image}" alt="Reel" class="reel-video">
                    <div class="reel-overlay">
                        <div class="reel-user">
                            <img src="${reel.avatar}" alt="${reel.username}" class="reel-avatar">
                            <span class="reel-username">${reel.username}</span>
                            <button class="reel-follow-btn">Follow</button>
                        </div>
                        <div class="reel-caption">${reel.caption}</div>
                        <div class="reel-music">
                            <i class="fa-solid fa-music"></i>
                            ${reel.music}
                        </div>
                    </div>
                    <div class="reel-actions">
                        <div class="reel-action reel-like-btn" data-reel-id="${index}">
                            <i class="fa-regular fa-heart"></i>
                            <span class="reel-likes-count">${reel.likes}</span>
                        </div>
                        <div class="reel-action">
                            <i class="fa-regular fa-comment"></i>
                            <span>${reel.comments}</span>
                        </div>
                        <div class="reel-action">
                            <i class="fa-regular fa-paper-plane"></i>
                        </div>
                        <div class="reel-action">
                            <i class="fa-solid fa-ellipsis-vertical"></i>
                        </div>
                    </div>
                </div>
            `).join('');

            setupReelsInteractions();
        }

        // Setup reels interactions
        function setupReelsInteractions() {
            // Like button
            document.querySelectorAll('.reel-like-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const heart = this.querySelector('i');
                    if (this.classList.contains('liked')) {
                        this.classList.remove('liked');
                        heart.classList.remove('fa-solid');
                        heart.classList.add('fa-regular');
                    } else {
                        this.classList.add('liked');
                        heart.classList.remove('fa-regular');
                        heart.classList.add('fa-solid');
                    }
                });
            });

            // Follow buttons
            document.querySelectorAll('.reel-follow-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    if (this.textContent === 'Follow') {
                        this.textContent = 'Following';
                        this.style.backgroundColor = '#333';
                    } else {
                        this.textContent = 'Follow';
                        this.style.backgroundColor = 'transparent';
                    }
                });
            });
        }

        // Render chats
        function renderChats() {
            const container = document.getElementById('chatList');
            container.innerHTML = chats.map((chat, index) => `
                <div class="chat-item" data-chat-id="${index}">
                    <img src="${chat.avatar}" alt="${chat.username}" class="chat-item-avatar">
                    <div class="chat-item-info">
                        <div class="chat-item-top">
                            <span class="chat-item-username">${chat.username}</span>
                            <span class="chat-item-time">${chat.time}</span>
                        </div>
                        <div class="chat-item-message ${chat.unread ? 'unread' : ''}">${chat.lastMessage}</div>
                    </div>
                </div>
            `).join('');

            setupChatInteractions();
        }

        // Setup chat interactions
        function setupChatInteractions() {
            document.querySelectorAll('.chat-item').forEach(item => {
                item.addEventListener('click', function() {
                    const chatId = parseInt(this.getAttribute('data-chat-id'));
                    openChat(chatId);
                    
                    // Update active state
                    document.querySelectorAll('.chat-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        }

        // Open chat
        function openChat(chatId) {
            activeChat = chats[chatId];
            const chatContent = document.getElementById('chatContent');
            
            // Clear any existing timeout for this chat
            if (chatTimeouts[chatId]) {
                clearTimeout(chatTimeouts[chatId]);
            }
            
            chatContent.innerHTML = `
                <div class="chat-content-header">
                    <i class="fa-solid fa-arrow-left back-to-chats"></i>
                    <img src="${activeChat.avatar}" alt="${activeChat.username}" class="chat-content-avatar">
                    <span class="chat-content-username">${activeChat.username}</span>
                </div>
                <div class="chat-messages" id="chatMessages">
                    ${activeChat.messages.map(msg => `
                        <div class="message ${msg.sent ? 'sent' : 'received'}">
                            ${msg.text}
                        </div>
                    `).join('')}
                </div>
                <div class="chat-input-container">
                    <input type="text" class="chat-input" id="chatInput" placeholder="Message...">
                    <button class="send-btn" id="sendBtn" disabled>Send</button>
                </div>
            `;

            // Show chat content on mobile
            chatContent.classList.add('mobile-active');

            // If this is the 'yourself' chat (first chat, index 0), set timeout for auto-message
            if (chatId === 0 && activeChat.username === 'yourself') {
                chatTimeouts[chatId] = setTimeout(() => {
                    // Add the new message
                    const newMessageText = 'Enter your room';
                    activeChat.messages.push({ text: newMessageText, sent: false });
                    activeChat.lastMessage = newMessageText;
                    activeChat.time = 'now';
                    
                    // Play notification sound
                    playNotificationSound();
                    
                    // Add message to the chat if still viewing this chat
                    const chatMessages = document.getElementById('chatMessages');
                    if (chatMessages && activeChat === chats[chatId]) {
                        const newMessage = document.createElement('div');
                        newMessage.className = 'message received';
                        newMessage.textContent = newMessageText;
                        newMessage.style.animation = 'fadeIn 0.3s ease-in';
                        chatMessages.appendChild(newMessage);
                        
                        // Scroll to bottom
                        chatMessages.scrollTop = chatMessages.scrollHeight;
                    }
                    
                    // Update chat list
                    renderChats();
                    
                    // After 5 more seconds, send the link
                    setTimeout(() => {
                        const linkMessageText = 'Link has been sent';
                        activeChat.messages.push({ text: linkMessageText, sent: false, isLink: true });
                        activeChat.lastMessage = linkMessageText;
                        activeChat.time = 'now';
                        
                        // Play notification sound
                        playNotificationSound();
                        
                        // Add link message to the chat if still viewing this chat
                        const chatMessages2 = document.getElementById('chatMessages');
                        if (chatMessages2 && activeChat === chats[chatId]) {
                            const linkMessage = document.createElement('div');
                            linkMessage.className = 'message received';
                            linkMessage.style.animation = 'fadeIn 0.3s ease-in';
                            
                            const link = document.createElement('a');
                            link.href = '#';
                            link.className = 'message-link';
                            link.textContent = linkMessageText;
                            link.onclick = (e) => {
                                e.preventDefault();
                                showLiveVideo();
                            };
                            
                            linkMessage.appendChild(link);
                            chatMessages2.appendChild(linkMessage);
                            
                            // Scroll to bottom
                            chatMessages2.scrollTop = chatMessages2.scrollHeight;
                        }
                        
                        // Update chat list
                        renderChats();
                    }, 5000); // 5 more seconds
                }, 10000); // 10 seconds
            }

            // Back button
            const backBtn = document.querySelector('.back-to-chats');
            if (backBtn) {
                backBtn.addEventListener('click', function() {
                    chatContent.classList.remove('mobile-active');
                });
            }

            // Setup send message
            const chatInput = document.getElementById('chatInput');
            const sendBtn = document.getElementById('sendBtn');

            chatInput.addEventListener('input', function() {
                sendBtn.disabled = this.value.trim() === '';
            });

            chatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && this.value.trim() !== '') {
                    sendMessage(this.value);
                }
            });

            sendBtn.addEventListener('click', function() {
                const message = chatInput.value.trim();
                if (message) {
                    sendMessage(message);
                }
            });

            // Scroll to bottom
            const messagesContainer = document.getElementById('chatMessages');
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // Send message
        function sendMessage(text) {
            if (!activeChat) return;

            // Add message to chat
            activeChat.messages.push({ text, sent: true });
            activeChat.lastMessage = text;
            activeChat.time = 'now';

            // Re-render
            const chatMessages = document.getElementById('chatMessages');
            const newMessage = document.createElement('div');
            newMessage.className = 'message sent';
            newMessage.textContent = text;
            chatMessages.appendChild(newMessage);

            // Clear input
            const chatInput = document.getElementById('chatInput');
            chatInput.value = '';
            document.getElementById('sendBtn').disabled = true;

            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // Update chat list
            renderChats();
            document.querySelectorAll('.chat-item').forEach((item, index) => {
                if (index === chats.indexOf(activeChat)) {
                    item.classList.add('active');
                }
            });
        }

        // Render stories
        function renderStories() {
            const container = document.getElementById('storiesContainer');
            container.innerHTML = stories.map(story => `
                <div class="story">
                    <div class="story-pic">
                        <img src="${story.avatar}" alt="${story.username}">
                    </div>
                    <div class="story-username">${story.username}</div>
                </div>
            `).join('');
        }

        // Render posts
        function renderPosts() {
            const container = document.getElementById('postsContainer');
            container.innerHTML = posts.map((post, index) => `
                <div class="post" data-post-id="${index}">
                    <div class="post-header">
                        <div class="post-user">
                            <img src="${post.avatar}" alt="${post.username}" class="post-profile-pic">
                            <span class="post-username">${post.username}</span>
                        </div>
                        <i class="fa-solid fa-ellipsis post-options"></i>
                    </div>
                    <img src="${post.image}" alt="Post" class="post-image">
                    <div class="post-actions">
                        <div class="post-actions-left">
                            <i class="fa-regular fa-heart like-btn" data-post-id="${index}"></i>
                            <i class="fa-regular fa-comment"></i>
                            <i class="fa-regular fa-paper-plane"></i>
                        </div>
                        <i class="fa-regular fa-bookmark save-btn" data-post-id="${index}"></i>
                    </div>
                    <div class="post-likes"><span class="likes-count">${post.likes.toLocaleString()}</span> likes</div>
                    <div class="post-caption">
                        <span class="username">${post.username}</span>
                        ${post.caption}
                    </div>
                    <div class="post-comments">View all ${post.comments} comments</div>
                    <div class="post-time">${post.time}</div>
                    <div class="add-comment">
                        <input type="text" placeholder="Add a comment..." class="comment-input">
                        <button disabled>Post</button>
                    </div>
                </div>
            `).join('');

            setupPostInteractions();
        }

        // Render suggestions
        function renderSuggestions() {
            const container = document.getElementById('suggestionsContainer');
            container.innerHTML = suggestions.map((suggestion, index) => `
                <div class="suggestion">
                    <img src="${suggestion.avatar}" alt="${suggestion.username}" class="suggestion-pic">
                    <div class="suggestion-info">
                        <div class="suggestion-username">${suggestion.username}</div>
                        <div class="suggestion-reason">${suggestion.reason}</div>
                    </div>
                    <button class="suggestion-follow" data-index="${index}">Follow</button>
                </div>
            `).join('');

            // Follow button functionality
            document.querySelectorAll('.suggestion-follow').forEach(btn => {
                btn.addEventListener('click', function() {
                    if (this.textContent === 'Follow') {
                        this.textContent = 'Following';
                        this.style.color = '#8e8e8e';
                    } else {
                        this.textContent = 'Follow';
                        this.style.color = '#0095f6';
                    }
                });
            });
        }

        // Setup post interactions
        function setupPostInteractions() {
            // Like button
            document.querySelectorAll('.like-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const postId = this.getAttribute('data-post-id');
                    const post = this.closest('.post');
                    const likesCountEl = post.querySelector('.likes-count');
                    let currentLikes = parseInt(likesCountEl.textContent.replace(',', ''));

                    if (this.classList.contains('liked')) {
                        this.classList.remove('liked', 'fa-solid');
                        this.classList.add('fa-regular');
                        currentLikes--;
                    } else {
                        this.classList.add('liked', 'fa-solid');
                        this.classList.remove('fa-regular');
                        currentLikes++;
                    }

                    likesCountEl.textContent = currentLikes.toLocaleString();
                });
            });

            // Save button
            document.querySelectorAll('.save-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    if (this.classList.contains('saved')) {
                        this.classList.remove('saved', 'fa-solid');
                        this.classList.add('fa-regular');
                    } else {
                        this.classList.add('saved', 'fa-solid');
                        this.classList.remove('fa-regular');
                    }
                });
            });

            // Comment input
            document.querySelectorAll('.comment-input').forEach(input => {
                input.addEventListener('input', function() {
                    const btn = this.nextElementSibling;
                    btn.disabled = this.value.trim() === '';
                });

                input.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter' && this.value.trim() !== '') {
                        addComment(this);
                    }
                });
            });

            // Comment button
            document.querySelectorAll('.add-comment button').forEach(btn => {
                btn.addEventListener('click', function() {
                    const input = this.previousElementSibling;
                    if (input.value.trim() !== '') {
                        addComment(input);
                    }
                });
            });
        }

        // Add comment
        function addComment(input) {
            const post = input.closest('.post');
            const commentsEl = post.querySelector('.post-comments');
            const currentComments = parseInt(commentsEl.textContent.match(/\d+/)[0]);
            commentsEl.textContent = `View all ${currentComments + 1} comments`;
            input.value = '';
            input.nextElementSibling.disabled = true;
        }

        // Setup event listeners
        function setupEventListeners() {
            // Create post modal
            const createPostBtn = document.getElementById('createPostBtn');
            const createPostBtnMobile = document.getElementById('createPostBtnMobile');
            const modal = document.getElementById('createPostModal');
            const closeModal = document.getElementById('closeModal');
            const fileInput = document.getElementById('fileInput');
            const uploadArea = document.getElementById('uploadArea');
            const previewContainer = document.getElementById('previewContainer');
            const previewImage = document.getElementById('previewImage');
            const sharePostBtn = document.getElementById('sharePostBtn');

            if (createPostBtn) {
                createPostBtn.addEventListener('click', () => {
                    modal.classList.add('active');
                });
            }

            if (createPostBtnMobile) {
                createPostBtnMobile.addEventListener('click', () => {
                    modal.classList.add('active');
                });
            }

            closeModal.addEventListener('click', () => {
                modal.classList.remove('active');
                resetUpload();
            });

            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.remove('active');
                    resetUpload();
                }
            });

            fileInput.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        previewImage.src = e.target.result;
                        uploadArea.style.display = 'none';
                        previewContainer.classList.add('active');
                    };
                    reader.readAsDataURL(file);
                }
            });

            sharePostBtn.addEventListener('click', () => {
                const caption = document.getElementById('captionInput').value;
                const newPost = {
                    username: userData.username,
                    avatar: userData.profilePic,
                    image: previewImage.src,
                    likes: 0,
                    caption: caption || 'New post',
                    comments: 0,
                    time: 'Just now'
                };
                
                posts.unshift(newPost);
                userData.userPosts.unshift(newPost);
                renderPosts();
                modal.classList.remove('active');
                resetUpload();
            });

            // Drag and drop
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.style.backgroundColor = '#fafafa';
            });

            uploadArea.addEventListener('dragleave', () => {
                uploadArea.style.backgroundColor = '';
            });

            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.style.backgroundColor = '';
                const file = e.dataTransfer.files[0];
                if (file && file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        previewImage.src = e.target.result;
                        uploadArea.style.display = 'none';
                        previewContainer.classList.add('active');
                    };
                    reader.readAsDataURL(file);
                }
            });
        }

        // Reset upload
        function resetUpload() {
            document.getElementById('fileInput').value = '';
            document.getElementById('captionInput').value = '';
            document.getElementById('uploadArea').style.display = 'block';
            document.getElementById('previewContainer').classList.remove('active');
        }

        // Profile functionality
        function showProfilePage() {
            document.querySelector('.main-container').style.display = 'none';
            document.getElementById('profilePage').classList.add('active');
            document.getElementById('reelsPage').classList.remove('active');
            document.getElementById('chatPage').classList.remove('active');
            document.getElementById('liveVideoPage').classList.remove('active');
            updateProfilePage();
        }

        function showFeed() {
            document.querySelector('.main-container').style.display = 'flex';
            document.getElementById('profilePage').classList.remove('active');
            document.getElementById('reelsPage').classList.remove('active');
            document.getElementById('chatPage').classList.remove('active');
            document.getElementById('liveVideoPage').classList.remove('active');
        }

        function showReelsPage() {
            document.querySelector('.main-container').style.display = 'none';
            document.getElementById('profilePage').classList.remove('active');
            document.getElementById('reelsPage').classList.add('active');
            document.getElementById('chatPage').classList.remove('active');
            document.getElementById('liveVideoPage').classList.remove('active');
        }

        function showChatPage() {
            document.querySelector('.main-container').style.display = 'none';
            document.getElementById('profilePage').classList.remove('active');
            document.getElementById('reelsPage').classList.remove('active');
            document.getElementById('chatPage').classList.add('active');
            document.getElementById('liveVideoPage').classList.remove('active');
        }

        function showLiveVideo() {
            document.querySelector('.main-container').style.display = 'none';
            document.getElementById('profilePage').classList.remove('active');
            document.getElementById('reelsPage').classList.remove('active');
            document.getElementById('chatPage').classList.remove('active');
            document.getElementById('liveVideoPage').classList.add('active');
        }

        function updateProfilePage() {
            document.getElementById('profileUsername').textContent = userData.username;
            document.getElementById('profileFullname').textContent = userData.fullname;
            document.getElementById('profilePicLarge').src = userData.profilePic;
            document.getElementById('postsCount').textContent = userData.userPosts.length;
            
            // Update all profile pictures in the app
            document.querySelectorAll('.profile-pic-small').forEach(img => {
                img.src = userData.profilePic;
            });
            
            const sidebarPic = document.querySelector('.sidebar-profile-pic');
            if (sidebarPic) {
                sidebarPic.src = userData.profilePic;
            }
            
            // Render user posts
            const postsGrid = document.getElementById('profilePostsGrid');
            if (userData.userPosts.length === 0) {
                postsGrid.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 60px 0; color: #8e8e8e;"><i class="fa-regular fa-images" style="font-size: 48px; margin-bottom: 16px;"></i><p style="font-size: 18px;">No posts yet</p></div>';
            } else {
                postsGrid.innerHTML = userData.userPosts.map(post => `
                    <div class="profile-post-item">
                        <img src="${post.image}" alt="Post">
                    </div>
                `).join('');
            }
        }

        // Setup profile interactions
        function setupProfileInteractions() {
            // Navigate to profile
            document.querySelectorAll('.profile-pic-small').forEach(pic => {
                pic.addEventListener('click', showProfilePage);
            });

            const sidebarPic = document.querySelector('.sidebar-profile-pic');
            if (sidebarPic) {
                sidebarPic.addEventListener('click', showProfilePage);
            }

            // Navigate home
            document.querySelectorAll('.fa-house').forEach(icon => {
                icon.addEventListener('click', showFeed);
            });

            const logo = document.querySelector('.logo');
            if (logo) {
                logo.addEventListener('click', showFeed);
            }

            // Navigate to reels
            const reelsIconDesktop = document.getElementById('reelsIconDesktop');
            const reelsIconMobile = document.getElementById('reelsIconMobile');
            
            if (reelsIconDesktop) {
                reelsIconDesktop.addEventListener('click', showReelsPage);
            }
            
            if (reelsIconMobile) {
                reelsIconMobile.addEventListener('click', showReelsPage);
            }

            // Navigate to messages
            const messageIconDesktop = document.getElementById('messageIconDesktop');
            const messageIconMobile = document.getElementById('messageIconMobile');
            
            if (messageIconDesktop) {
                messageIconDesktop.addEventListener('click', showChatPage);
            }
            
            if (messageIconMobile) {
                messageIconMobile.addEventListener('click', showChatPage);
            }

            // Back buttons
            const chatBackBtn = document.getElementById('chatBackBtn');
            const reelsBackBtn = document.getElementById('reelsBackBtn');
            const liveBackBtn = document.getElementById('liveBackBtn');

            if (chatBackBtn) {
                chatBackBtn.addEventListener('click', showFeed);
            }

            if (reelsBackBtn) {
                reelsBackBtn.addEventListener('click', showFeed);
            }

            if (liveBackBtn) {
                liveBackBtn.addEventListener('click', showChatPage);
            }

            // Live video upload
            const uploadVideoBtn = document.getElementById('uploadVideoBtn');
            const liveVideoInput = document.getElementById('liveVideoInput');
            const liveVideoElement = document.getElementById('liveVideoElement');
            const liveVideoSource = document.getElementById('liveVideoSource');
            const videoPlaceholder = document.getElementById('videoPlaceholder');

            if (uploadVideoBtn && liveVideoInput) {
                uploadVideoBtn.addEventListener('click', () => {
                    liveVideoInput.click();
                });

                liveVideoInput.addEventListener('change', (e) => {
                    const file = e.target.files[0];
                    if (file && file.type.startsWith('video/')) {
                        const videoURL = URL.createObjectURL(file);
                        liveVideoSource.src = videoURL;
                        liveVideoElement.load();
                        liveVideoElement.play();
                        videoPlaceholder.classList.add('hidden');
                    }
                });
            }

            // Editable viewer count
            const viewerCount = document.getElementById('viewerCount');
            const viewerNumber = document.getElementById('viewerNumber');

            if (viewerCount && viewerNumber) {
                viewerCount.addEventListener('click', () => {
                    const currentValue = viewerNumber.textContent;
                    const newValue = prompt('Enter viewer count:', currentValue);
                    
                    if (newValue !== null && newValue.trim() !== '') {
                        const sanitized = newValue.trim().replace(/[^0-9]/g, '');
                        if (sanitized) {
                            viewerNumber.textContent = sanitized;
                        }
                    }
                });
            }

            // Upload profile picture
            const uploadBtn = document.getElementById('uploadProfilePicBtn');
            const profilePicInput = document.getElementById('profilePicInput');
            const removeBtn = document.getElementById('removeProfilePicBtn');
            const profilePicLarge = document.getElementById('profilePicLarge');

            if (uploadBtn && profilePicInput) {
                uploadBtn.addEventListener('click', () => {
                    profilePicInput.click();
                });

                // Also allow clicking on profile picture to upload
                if (profilePicLarge) {
                    profilePicLarge.addEventListener('click', () => {
                        profilePicInput.click();
                    });
                }

                profilePicInput.addEventListener('change', (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            userData.profilePic = e.target.result;
                            updateProfilePage();
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }

            // Remove profile picture
            if (removeBtn) {
                removeBtn.addEventListener('click', () => {
                    userData.profilePic = 'https://via.placeholder.com/150/cccccc/ffffff?text=No+Photo';
                    updateProfilePage();
                });
            }

            // Edit profile modal
            const editProfileBtn = document.getElementById('editProfileBtn');
            const editModal = document.getElementById('editProfileModal');
            const closeEditModal = document.getElementById('closeEditModal');
            const saveChangesBtn = document.getElementById('saveChangesBtn');

            editProfileBtn.addEventListener('click', () => {
                document.getElementById('editName').value = userData.fullname;
                document.getElementById('editUsername').value = userData.username;
                document.getElementById('editBio').value = userData.bio;
                editModal.classList.add('active');
            });

            closeEditModal.addEventListener('click', () => {
                editModal.classList.remove('active');
            });

            editModal.addEventListener('click', (e) => {
                if (e.target === editModal) {
                    editModal.classList.remove('active');
                }
            });

            saveChangesBtn.addEventListener('click', () => {
                userData.fullname = document.getElementById('editName').value;
                userData.username = document.getElementById('editUsername').value;
                userData.bio = document.getElementById('editBio').value;
                
                // Update sidebar if it exists
                const sidebarUsername = document.querySelector('.sidebar-username');
                const sidebarName = document.querySelector('.sidebar-name');
                if (sidebarUsername) sidebarUsername.textContent = userData.username;
                if (sidebarName) sidebarName.textContent = userData.fullname;
                
                updateProfilePage();
                editModal.classList.remove('active');
            });
        }

        // Initialize on load
        init();
        setupProfileInteractions();

        // Login functionality
        const loginPage = document.getElementById('loginPage');
        const enterBtn = document.getElementById('enterBtn');

        if (enterBtn) {
            enterBtn.addEventListener('click', () => {
                loginPage.classList.add('hidden');
            });
        }
    </script>
</body>
</html>